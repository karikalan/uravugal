<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Insert title here</title>
<script>
	function download(filename, text) {
		alert('aa');
		var pom = document.createElement('a');
		pom.setAttribute('href', 'data:text/plain;charset=utf-8,'
				+ encodeURIComponent(text));
		pom.setAttribute('download', filename);
		pom.click();
	}
</script>
</head>

<body>
	<form onsubmit="download(this['name'].value, this['text'].value)">
		<input type="text" name="name" value="test.txt">
		<textarea name="text"></textarea>
		<input type="submit" value="Download">
	</form>
</body>
</html>